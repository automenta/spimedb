<!DOCTYPE html>

<!--<div id="info">-->
<!--<a href="http://threejs.org" target="_blank">three.js</a> webgl - buffergeometry drawcalls - by <a-->
<!--href="https://twitter.com/fernandojsg">fernandojsg</a>-->
<!--</div>-->

<html lang="en">
<head>
    <title>three.js webgl - buffergeometry - lines drawcalls</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

    <style>
        body, .max {
            width: 100%;
            height: 100%;
        }
        body {
            overflow: hidden;
            position: fixed;
            top: 0px;
            left: 0px;
            margin: 0px;
            color: #cccccc;
            background-color: #000000;
            font-family: monospace,sans-serif;
        }


    </style>
</head>
<body>


<script src="lib/jquery/dist/jquery.slim.min.js"></script>

<script src="lib/threejs/build/three.min.js"></script>
<script src="http://threejs.org/examples/js/renderers/CSS3DRenderer.js"></script>
<script src="http://threejs.org/examples/js/controls/TrackballControls.js"></script>
<!--<script src="https://threejs.org/examples/js/controls/OrbitControls.js"></script>-->
<script src="http://threejs.org/examples/js/controls/DragControls.js"></script>


<script src="http://jeromeetienne.github.io/threex.domevents/threex.domevents.js"></script>
<script src="http://jeromeetienne.github.io/threex.htmlmixer/threex.htmlmixer.js"></script>
    <!--
    http://jeromeetienne.github.io/threex.htmlmixer/examples/basic.html
    http://jeromeetienne.github.io/threex.domevents/examples/demo.html
    -->

<script src="http://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.6.5/dat.gui.min.js"></script>
<!--<script src="js/libs/stats.min.js"></script>-->


<script src="narchy.js"></script>
<script src="EventEmitter.js"></script>
<script src="graph.js"></script>
<script src="spacegraph.js"></script>


<script>


    const s = new SpaceGraph(document.body);


//    {
//        const a = s.addIFrame('/index.html', 500, 300);
//        a.position.x = -550;
//
//        const b = s.addDOM($('<div><button>wtf</button><div contenteditable="true">idk</div></div>')
//                .attr('style', 'margin: 1em; border: 3px solid purple;')[0],
//            200, 300);
//        b.position.x = 650;
//        b.position.y = 350;
//    }

    const g = new LFUGraph(16,10);
    const gs = s.addGraph(g);


    var i = 0;
    setInterval(()=>{
        gs.node('x' + (i++), true);
        if (i > 1) {
            const prev = 'x' + (i-1);
            const next = 'x' + (i);
            gs.edge(prev, next, {id: 'e' + i });
        }
    }, 1000);

    const m = new HyperassociativeMap(g, 3);
    setInterval(()=>{
        m.update();
    }, 100);



</script>

</body>
</html>